# The only data visualization guide you'll ever need
## visualizing meaningful graph using python

> I visualize what I do before I do it. Visualizing makes me better. -
> Clarence Clemons

Data visualization is a key concepts when working with data. Be it understanding the correlation of two features or showing your boss how a certain product is selling, being able to use graphs efficiently is critical for a meaningful study of your data. Data visualization can be described as follows:
> "Data visualization is the graphic representation of data. It involves producing images that communicate relationships among the represented data to viewers of the images. [...] To communicate information clearly and efficiently, data visualization uses statistical graphics, plots, information graphics and other tools. [...] Effective visualization helps users analyze and reason about data and evidence. It makes complex data more accessible, understandable and usable." -
> source: [Wikipedia](https://en.wikipedia.org/wiki/Data_visualization)

Data visualization has many application in fields like Data Science, Data Analyisis, Data Mining, and many more. Thankfully, there are many librearies out there that can help us in our task of deploying efficient and beautiful graphs. I'm going to implement some of the most basic and popular libraries for Data Visualization on Python, showing both how implement it and when you should do it. 

Some of the most popular libraries on Data Visualization at the moment are:
1. [**Pandas**](https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html): This is the go-to library when managing data, and I'm sure most of you already know about it. Well, it turns out that Pandas also implements some (basic) way to visualize our data, which are built over Matplotlib; 
2. [**MatPlotLib**](https://matplotlib.org/): MatPlotLib is an easy to implement but hard to master library, due to lot of freedom given to the user. Matplotlib is designed to be as usable as MATLAB, with the ability to use Python, and the advantage of being free and open-source;
3. [**Seaborn**](https://seaborn.pydata.org/): Seaborn differs from MatPlotLib due to a more high-level interface and a more appealing appearance of the graph.

Over this post, we're going to focus on those three libraries, but there are many others you can use, like [Plotly](https://plot.ly/python/), [Bokeh](https://docs.bokeh.org/en/latest/index.html) or [Ggplot](http://ggplot.yhathq.com/). Feel free to try them out yourself and choose the one you find more comfortable with.

### Installing the libraries
Let's quickly go over the installation on your machine of the various libraries:

**Pandas**: The fastest way (and also my suggestion) is to install pandas is to install the Anaconda environment. This way, you will also install all the other components of SciPy like MatplotLib and Numpy. You can find all you need for installing Anaconda on your machine [here](https://docs.continuum.io/anaconda/install/). You can also install it singularly using Miniconda or PyPI. You can check more over this [here](https://pandas.pydata.org/pandas-docs/stable/getting_started/install.html).

**MatplotLib**: You can install it as a part of the Scipy stack with Anaconda (see above) or run the following comands on the shell/prompt:

```
python -m pip install -U pip
python -m pip install -U matplotlib
```

**Seaborn**: You can install the latest Seaborn version by running the following comands on the shell/prompt:

```
pip install seaborn
```
or you can install the released version using conda:

```
conda install seaborn
```

### Loading the data

We can't visualize data if we have no data, so let's start by loading some dataset using Pandas. You can find many dataset on [Kaggle](https://www.kaggle.com/). In particular, I'm going to use the *World Happiness report 2019*. We can load it using Pandas trough the *read_csv()* function. Let's also import MatplotLib and Seaborn.


```python
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sn

# Load the data
data = pd.read_csv('happiness.csv')
```

Let's give a quick look to the structure of the dataset.


```python
data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country (region)</th>
      <th>Ladder</th>
      <th>SD of Ladder</th>
      <th>Positive affect</th>
      <th>Negative affect</th>
      <th>Social support</th>
      <th>Freedom</th>
      <th>Corruption</th>
      <th>Generosity</th>
      <th>Log of GDP\nper capita</th>
      <th>Healthy life\nexpectancy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Finland</td>
      <td>1</td>
      <td>4</td>
      <td>41.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>47.0</td>
      <td>22.0</td>
      <td>27.0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Denmark</td>
      <td>2</td>
      <td>13</td>
      <td>24.0</td>
      <td>26.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>22.0</td>
      <td>14.0</td>
      <td>23.0</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Norway</td>
      <td>3</td>
      <td>8</td>
      <td>16.0</td>
      <td>29.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>8.0</td>
      <td>11.0</td>
      <td>7.0</td>
      <td>12.0</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Iceland</td>
      <td>4</td>
      <td>9</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>7.0</td>
      <td>45.0</td>
      <td>3.0</td>
      <td>15.0</td>
      <td>13.0</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Netherlands</td>
      <td>5</td>
      <td>1</td>
      <td>12.0</td>
      <td>25.0</td>
      <td>15.0</td>
      <td>19.0</td>
      <td>12.0</td>
      <td>7.0</td>
      <td>12.0</td>
      <td>18.0</td>
    </tr>
  </tbody>
</table>
</div>



## Graph categories

There are many types of graphs, but we can mostly divide them in 4 basic categories, based on what we're interested in visualizing: **Relationship**, **Composition**, **Comparison**, or **Distribution**. To choose the graph which suits best your needs, you need to think about things like the numbers of feature you want to display or the nature of your data. A useful tool for quickly get a graps over this can be the following selection diagram created by [Dr. Andrew Abela](https://extremepresentation.typepad.com/about.html):

![Data selection](./graph_sel.png)

We'll go over all of the graph above, explaining more in detail when you should use it and how to plot it. 

## Relationship

One quick way to visualize the relationships of features is by graphing two (or more) related sets. In particular, when we're working with two different features, one way to show the relation is the 
### Scatter plot
Scatter plots use points in the Cartesian plane to represent the values of real numbers. The dots not only shows the values of the points, but can also show interesting patterns in the data. Usually, on the X axis we project the intependent variable, while on the Y axis we project the dependent variable. 

Let's display a scatter plot in MatplotLib:


```python
plt.figure(figsize=(10, 6))
plt.scatter(data['Healthy life\nexpectancy'], data['Ladder'])
plt.xlabel('Healthy life\nexpectancy')
plt.ylabel('Ladder')
plt.title('Corruption over ladder position')
plt.show()
```


![png](output_6_0.png)


From the graph above, it's easy to evince the two variables are correlated. You can instead display a Scatter plot using Seaborn like this:


```python
plt.figure(figsize=(10, 6))
sn.scatterplot(x="Healthy life\nexpectancy", y="Ladder", data=data)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x23d6fdff4c8>




![png](output_8_1.png)


You can see how implementing a graph using Seaborn is much more High-level, but at the cost of many degrees of freedom. 

A way to show replationship between three variables consist in using 
### Bubble chart
Like Scatter Plot, Bubble charts use the cartesian plane to project two variables over the X and Y axes. However, Bubble charts express also a third variable trough the size of the circle. You can see Bubble charts a lot when understanding social, economical, medical, and other scientific relationships.

You can implement Bubble charts in MatplotLib like this:


```python
# use the scatter function
plt.figure(figsize=(10, 6))
plt.scatter(data['Healthy life\nexpectancy'], data['Ladder'], data['Corruption'], alpha=0.6)
plt.xlabel('Healthy life\nexpectancy')
plt.ylabel('Ladder')
plt.show()
```


![png](output_10_0.png)


The graph is similar to what we've seen above, but now the size of the circles scale up with the Corrpution of the countries. The parameter $\alpha$ is used to set the proportional opacity of the circles. 


```python
plt.figure(figsize=(10, 6))
sn.scatterplot(x="Healthy life\nexpectancy", y="Ladder", size="Corruption",data=data)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x23d6e9b5b88>




![png](output_12_1.png)


## Comparison
With Comparison Charts we aim at showing the difference (or similarity) between two or more variables. One main way to distinguish between comparison graphs is understanding if we want to analize data which changes over time, or static data. 

In the static domain, we can show correlations between two variables and the data trough a 
### Column chart
A column chart displays vertical bars going across the chart horizontally, with the values axis being displayed on the left side of the chart. 


```python

```
